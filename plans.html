<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Planos - ontercept</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"/>
<style>:root{--bg-0:#eef2ff;--bg-1:#f8fafc;--surface:#ffffff;--muted:#6b7280;--muted-2:#54585f;--primary:#2463f0;--primary-600:#1f56d6;--accent:#7c3aed;--success:#10b981;--danger:#ef4444;--warning:#f59e0b;--glass:rgba(255,255,255,0.6);--radius-sm:8px;--radius-md:12px;--radius-lg:16px;--radius-xl:18px;--shadow-sm:0 6px 12px rgba(16,24,40,0.06);--shadow-md:0 10px 24px rgba(16,24,40,0.08);--shadow-lg:0 18px 42px rgba(16,24,40,0.12);--shadow-primary:0 10px 30px rgba(36,99,240,0.2);--gap-1:8px;--gap-2:14px;--gap-3:20px;--gap-4:28px;--gap-5:36px;--transition:all 0.25s cubic-bezier(0.4,0,0.2,1)}html{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;font-size:15px;line-height:1.55;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth}*{box-sizing:border-box;margin:0;padding:0}body{margin:0;min-height:100vh;background:linear-gradient(160deg,var(--bg-0) 0%,var(--bg-1) 100%);color:#111827;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;padding:20px 18px 36px;position:relative;overflow-x:hidden}body::before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 12% 18%,rgba(36,99,240,0.06) 0%,transparent 22%),radial-gradient(circle at 88% 74%,rgba(124,58,237,0.06) 0%,transparent 22%);pointer-events:none;z-index:-1}header.app-header{width:100%;max-width:1280px;background:linear-gradient(180deg,rgba(255,255,255,0.72),rgba(255,255,255,0.5));backdrop-filter:blur(12px);border-radius:var(--radius-xl);padding:12px 18px;display:flex;align-items:center;justify-content:space-between;box-shadow:var(--shadow-md);border:1px solid rgba(255,255,255,0.5);margin-bottom:24px;transition:var(--transition);position:sticky;top:16px;z-index:100}header.app-header:hover{box-shadow:var(--shadow-lg);transform:translateY(-2px)}.logo{display:flex;align-items:center;gap:12px;font-weight:800;font-size:18px;color:#0f172a;letter-spacing:-0.4px}.logo-image{height:44px;width:auto;border-radius:0;object-fit:contain;display:block;box-shadow:none;background:transparent;transition:var(--transition)}.logo:hover .logo-image{transform:rotate(6deg) scale(1.02)}.header-actions{display:flex;gap:10px;align-items:center;position:relative}.icon-button{width:40px;height:40px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;background:transparent;border:none;color:var(--muted);cursor:pointer;transition:var(--transition);position:relative}.icon-button:hover{transform:translateY(-2px);color:var(--primary);background:rgba(36,99,240,0.08);box-shadow:var(--shadow-sm)}.icon-badge{position:absolute;top:-4px;right:-4px;width:18px;height:18px;border-radius:50%;background:var(--danger);color:white;font-size:10px;font-weight:700;display:flex;align-items:center;justify-content:center}.user-dropdown{position:absolute;top:100%;right:0;background:rgba(255,255,255,0.96);backdrop-filter:blur(10px);border-radius:var(--radius-lg);padding:16px;box-shadow:var(--shadow-lg);min-width:240px;z-index:1000;display:none;margin-top:10px;border:1px solid rgba(255,255,255,0.6);opacity:0;transform:translateY(8px);transition:opacity 0.2s ease,transform 0.2s ease}.user-dropdown.show{display:block;opacity:1;transform:translateY(0)}.user-info{display:flex;flex-direction:column;gap:6px;padding-bottom:12px;border-bottom:1px solid rgba(0,0,0,0.05);margin-bottom:12px}.user-name{font-weight:700;font-size:15px;color:#0f172a}.user-id{font-size:12px;color:var(--muted);font-weight:500}.plan-pill{display:inline-flex;align-items:center;gap:8px;padding:7px 9px;border-radius:999px;background:linear-gradient(90deg,rgba(36,99,240,0.06),rgba(124,58,237,0.03));border:1px solid rgba(36,99,240,0.08);font-weight:700;color:var(--primary);font-size:12px}.plan-pill.inactive{background:linear-gradient(90deg,rgba(239,68,68,0.1),rgba(239,68,68,0.05));border:1px solid rgba(239,68,68,0.2);color:var(--danger)}.update-plan-btn{display:flex;align-items:center;gap:10px;padding:9px;border-radius:10px;border:none;background:transparent;color:var(--primary);font-weight:700;cursor:pointer;transition:var(--transition);width:100%}.update-plan-btn:hover{background:rgba(36,99,240,0.06);transform:translateX(3px)}.logout-btn{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;border:none;background:transparent;color:var(--danger);font-weight:600;cursor:pointer;transition:var(--transition);width:100%}.logout-btn:hover{background:rgba(239,68,68,0.08);transform:translateX(3px)}.plans-container{width:100%;max-width:1280px;display:flex;flex-direction:column;gap:var(--gap-4)}.plans-header{text-align:center;margin-bottom:var(--gap-4)}.plans-title{font-size:2.125rem;font-weight:800;color:#0f172a;margin-bottom:var(--gap-2);letter-spacing:-0.5px}.plans-subtitle{font-size:1.05rem;color:var(--muted);max-width:620px;margin:0 auto;line-height:1.6}.plans-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--gap-4);margin-top:var(--gap-4)}.plan-card{background:linear-gradient(180deg,rgba(255,255,255,0.86),rgba(251,253,255,0.72));backdrop-filter:blur(12px);border-radius:18px;padding:22px;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.64);transition:var(--transition);display:flex;flex-direction:column;position:relative;overflow:hidden}.plan-card:hover{transform:translateY(-4px) scale(1.01)}.plan-card.popular::before{content:"Mais Popular";position:absolute;top:16px;right:-36px;background:var(--accent);color:white;font-size:11px;font-weight:800;padding:6px 42px;transform:rotate(45deg);box-shadow:0 4px 12px rgba(124,58,237,0.3)}.plan-card.featured{border:2px solid var(--accent);transform:scale(1.015)}.plan-card.featured::after{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--primary),var(--accent))}.plan-header{margin-bottom:18px;text-align:center}.plan-name{font-size:1.4rem;font-weight:800;color:#0f172a;margin-bottom:6px;letter-spacing:-0.2px}.plan-price{display:flex;align-items:baseline;justify-content:center;gap:8px;margin-bottom:6px}.price-amount{font-size:2.35rem;font-weight:800;color:#2463f0;letter-spacing:-0.3px}.price-interval{font-size:0.95rem;color:var(--muted);font-weight:600}.plan-description{color:var(--muted);font-size:0.9rem;line-height:1.6}.plan-features{flex-grow:1;margin-bottom:var(--gap-4)}.feature{display:flex;align-items:center;gap:12px;margin-bottom:14px;opacity:0;transform:translateY(6px);animation:fadeUp .4s ease forwards}.plan-features .feature:nth-child(1){animation-delay:.02s}.plan-features .feature:nth-child(2){animation-delay:.06s}.plan-features .feature:nth-child(3){animation-delay:.1s}.plan-features .feature:nth-child(4){animation-delay:.14s}.plan-features .feature:nth-child(5){animation-delay:.18s}.plan-features .feature:nth-child(6){animation-delay:.22s}.feature-icon{width:20px;height:20px;color:var(--primary);flex-shrink:0}.feature-text{color:#0f172a;font-size:0.96rem;font-weight:600}.plan-button{width:100%;padding:14px;border-radius:14px;border:none;background:linear-gradient(90deg,var(--primary),var(--primary-600));background-size:200% 100%;color:white;font-weight:800;letter-spacing:0.2px;font-size:0.96rem;display:inline-flex;align-items:center;justify-content:center;gap:10px;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-primary)}.plan-button:hover{transform:translateY(-2px);box-shadow:0 15px 30px rgba(36,99,240,0.25);background-position:100% 0}.plan-button.featured{background:linear-gradient(90deg,var(--accent),#8b5cf6);background-size:200% 100%}.plan-button.featured:hover{box-shadow:0 15px 30px rgba(124,58,237,0.25);background-position:100% 0}.faq-section{margin-top:var(--gap-5);background:linear-gradient(180deg,rgba(255,255,255,0.86),rgba(251,253,255,0.72));backdrop-filter:blur(12px);border-radius:18px;padding:var(--gap-4);box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.64)}.faq-title{font-size:1.4rem;font-weight:800;color:#0f172a;margin-bottom:var(--gap-3);text-align:center}.faq-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:var(--gap-3)}.faq-item{background:rgba(255,255,255,0.7);border-radius:14px;padding:18px;border:1px solid rgba(255,255,255,0.6)}.faq-question{font-weight:800;color:#0f172a;margin-bottom:var(--gap-2);font-size:1.02rem}.faq-answer{color:var(--muted);line-height:1.6}@media (max-width:768px){.plans-grid{grid-template-columns:1fr}.plan-card.featured{transform:none}.plans-title{font-size:1.85rem}.plan-price{flex-direction:column;align-items:center;gap:0}}.floating{animation:floating 3s ease-in-out infinite}@keyframes floating{0%{transform:translateY(0px)}50%{transform:translateY(-6px)}100%{transform:translateY(0px)}}.pulse{animation:pulse 2s infinite}@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(36,99,240,0.4)}70%{box-shadow:0 0 0 10px rgba(36,99,240,0)}100%{box-shadow:0 0 0 0 rgba(36,99,240,0)}}@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}@keyframes modalIn{0%{opacity:0;transform:translateY(14px) scale(.98)}100%{opacity:1;transform:translateY(0) scale(1)}}@media (prefers-reduced-motion:reduce){.floating,.pulse{animation:none!important}*{scroll-behavior:auto}}.modal-backdrop{position:fixed;inset:0;background:rgba(15,23,42,0.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:1000}.modal-backdrop.show{display:flex}.modal{width:100%;max-width:760px;max-height:88dvh;background:linear-gradient(160deg,rgba(255,255,255,0.96) 0%,rgba(251,253,255,0.9) 100%);backdrop-filter:blur(14px);border-radius:22px;box-shadow:0 30px 80px rgba(16,24,40,0.2);border:1px solid rgba(255,255,255,0.7);overflow:hidden;opacity:0;transform:translateY(10px) scale(.98);transition:opacity .2s ease,transform .2s ease;display:flex;flex-direction:column;font-size:.88rem}.modal.show{opacity:1;transform:translateY(0) scale(1);animation:modalIn .25s cubic-bezier(0.2,0.8,0.2,1)}.modal-close{position:absolute;top:12px;right:12px;background:rgba(15,23,42,0.5);backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,0.5);color:#fff;width:36px;height:36px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:var(--transition)}.modal-close:hover{transform:translateY(-1px);background:rgba(15,23,42,0.6)}.modal-body{position:relative;padding:18px;overflow:auto;-webkit-overflow-scrolling:touch;flex:1 1 auto;padding-bottom:28px}.modal-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:14px}.modal-brand{display:flex;align-items:center;gap:10px}.modal-logo{width:34px;height:34px;border-radius:10px;background:linear-gradient(135deg,var(--primary),var(--accent));display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:var(--shadow-primary)}.modal-title{font-weight:800;font-size:1rem;color:#0f172a}.meta-pills{display:flex;flex-wrap:wrap;gap:8px}.pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(36,99,240,0.08),rgba(124,58,237,0.05));border:1px solid rgba(36,99,240,0.12);font-weight:800;color:var(--primary);font-size:11px}.modal-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}.summary{background:rgba(255,255,255,0.75);border:1px solid rgba(0,0,0,0.04);border-radius:14px;padding:14px;display:grid;gap:10px}.modal-plan{display:flex;align-items:center;justify-content:space-between}.modal-plan h3{font-size:.98rem;font-weight:800;color:#0f172a}.badge{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg,rgba(36,99,240,0.08),rgba(124,58,237,0.05));border:1px solid rgba(36,99,240,0.12);font-weight:800;color:var(--primary);font-size:11px}.modal-details{display:grid;grid-template-columns:1fr 1fr;gap:10px}.kv{background:rgba(255,255,255,0.72);border:1px solid rgba(0,0,0,0.04);border-radius:12px;padding:10px}.kv b{display:block;color:#0f172a;font-size:.86rem;margin-bottom:4px}.kv span{color:#111827;font-weight:800}.form{background:rgba(255,255,255,0.75);border:1px solid rgba(0,0,0,0.04);border-radius:14px;padding:14px;display:grid;gap:12px;margin-bottom:20px}.field{display:grid;gap:6px}.label{font-size:.84rem;font-weight:800;color:#0f172a}.input{width:100%;padding:11px 12px;border-radius:12px;border:1px solid rgba(0,0,0,0.1);background:rgba(255,255,255,0.95);outline:none;transition:var(--transition);font-size:.9rem}.input:focus{border-color:rgba(36,99,240,0.5);box-shadow:0 0 0 4px rgba(36,99,240,0.12)}.valid{border-color:#10b981;box-shadow:0 0 0 4px rgba(16,185,129,0.15)}.invalid{border-color:#ef4444;box-shadow:0 0 0 4px rgba(239,68,68,0.12)}.modal-footer{display:flex;flex-direction:column;gap:10px;align-items:stretch;padding:12px 0 8px;background:transparent;border-top:none}.cta-row{display:flex;gap:10px;justify-content:space-between;align-items:center}.cta-summary{display:flex;align-items:center;gap:12px}.cta-price{font-weight:800;color:#0f172a}.btn{padding:12px 16px;border-radius:14px;border:none;font-weight:800;cursor:pointer;transition:var(--transition);display:inline-flex;align-items:center;gap:8px}.btn-secondary{background:rgba(15,23,42,0.06);color:#0f172a}.btn-secondary:hover{transform:translateY(-1px);background:rgba(15,23,42,0.1)}.btn-primary{background:linear-gradient(90deg,var(--primary),var(--primary-600));color:#fff;box-shadow:var(--shadow-primary);background-size:200% 100%}.btn-primary:hover{transform:translateY(-1px);background-position:100% 0}.btn-primary[disabled]{opacity:.6;cursor:not-allowed;filter:saturate(.7)}.modal-disclaimer{display:grid;grid-template-columns:1fr;gap:8px;background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(251,253,255,0.7));border:1px solid rgba(0,0,0,0.04);border-radius:12px;padding:10px}.disclaimer-item{display:flex;gap:10px;align-items:flex-start}.disclaimer-ico{width:16px;height:16px;color:var(--primary);flex-shrink:0}.disclaimer-text{color:#111827}.disclaimer-text b{color:#0f172a}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width:720px){.modal-grid{grid-template-columns:1fr}.modal{max-width:92vw}.cta-row{flex-direction:column;align-items:stretch;gap:8px}.cta-summary{justify-content:space-between}}</style>
</head>
<body>
<header class="app-header" role="banner">
  <div class="logo">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="ontercept" class="logo-image">
  </div>
  <div class="header-actions" role="toolbar" aria-label="Ações">
    <button class="icon-button" id="notificationsBtn" aria-label="Notificações">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/><path d="M13.73 21a2 2 0 0 1-3.46 0"/></svg>
      <span class="icon-badge">3</span>
    </button>
    <button class="icon-button" id="userBtn" aria-label="Configurações do usuário" aria-haspopup="true" aria-controls="userDropdown" aria-expanded="false">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 0 0-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 0 0-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 0 0-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 0 0-1.065-2.572c-1.756.426-1.756 2.924 0 3.35a1.724 1.724 0 0 0 1.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><circle cx="12" cy="12" r="3"/></svg>
    </button>
    <div class="user-dropdown" id="userDropdown" role="menu" aria-hidden="true">
      <div class="user-info">
        <div class="user-name" id="dropdownUserName">Carregando...</div>
        <div class="user-id" id="dropdownUserId">ID: Carregando...</div>
      </div>
      <div style="margin-bottom:12px;display:flex;flex-direction:column;gap:10px;">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;">
          <div class="plan-pill inactive" id="userPlanPill" aria-hidden="true">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" style="opacity:0.9"><path d="M12 2l3 6 6 .5-4.5 4 1.5 6L12 16l-6 3 1.5-6L3 8.5 9 8 12 2z"/></svg>Sem Plano
          </div>
          <div aria-hidden="true" style="font-size:12px;color:var(--muted)">Plano atual</div>
        </div>
        <button id="updatePlanBtn" class="update-plan-btn" aria-label="Atualizar plano">Atualizar plano</button>
        <button id="supportBtn" class="update-plan-btn" aria-label="Suporte via WhatsApp">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a4 4 0 0 1-4 4h-1l-4 2v-2H7a4 4 0 0 1-4-4V7a4 4 0 0 1 4-4h10a4 4 0 0 1 4 4z"/><path d="M8.5 11.5a3 3 0 0 0 4 0"/><path d="M10 9v2"/><path d="M14 9v2"/></svg>Suporte (WhatsApp)
        </button>
      </div>
      <button class="logout-btn" id="logoutBtn" aria-label="Sair">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16,17 21,12 16,7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>Sair
      </button>
    </div>
  </div>
</header>

<div class="plans-container">
  <div class="plans-header">
    <h1 class="plans-title">Escolha o Plano Perfeito</h1>
    <p class="plans-subtitle">Maximize sua capacidade de interceptação com nossos planos premium. Todos incluem suporte via WhatsApp and atualizações gratuitas.</p>
  </div>

  <div class="plans-grid">
    <div class="plan-card" data-plan-code="basic15">
      <div class="plan-header">
        <h2 class="plan-name">Básico</h2>
        <div class="plan-price"><span class="price-amount">R$35</span><span class="price-interval">/15 dias</span></div>
        <p class="plan-description">Ideal para usuários que precisam de interceptações ocasionais</p>
      </div>
      <div class="plan-features">
        <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 1 1 9-9"/><path d="M12 12V7"/><path d="M12 12l4-1"/></svg><span class="feature-text">5 interceptações por dia</span></div>
        <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="3"/><path d="M16 2v4M8 2v4M3 10h18"/><circle cx="8" cy="15" r="1"/><circle cx="12" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></svg><span class="feature-text">Duração: 15 dias</span></div>
        <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5"/><path d="M7 10V7a5 5 0 0 1 10 0v3"/></svg><span class="feature-text">Suporte via WhatsApp</span></div>
        <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="3"/><path d="M8 8h8M8 12h8M8 16h5"/></svg><span class="feature-text">Acesso a todas as funcionalidades</span></div>
      </div>
      <button class="plan-button pulse">Selecionar Plano</button>
    </div>

<div class="plan-card popular" data-plan-code="std30">
  <div class="plan-header">
    <h2 class="plan-name">Padrão</h2>
    <div class="plan-price"><span class="price-amount">R$50</span><span class="price-interval">/30 dias</span></div>
    <p class="plan-description">Perfeito para usuários frequentes que precisam de mais capacidade</p>
  </div>
  <div class="plan-features">
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 1 1 9-9"/><path d="M12 12V7"/><path d="M12 12l4-1"/></svg><span class="feature-text">10 interceptações por dia</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="3"/><path d="M16 2v4M8 2v4M3 10h18"/><circle cx="8" cy="15" r="1"/><circle cx="12" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></svg><span class="feature-text">Duração: 30 dias</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5"/><path d="M7 10V7a5 5 0 0 1 10 0v3"/></svg><span class="feature-text">Suporte via WhatsApp prioritário</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="3"/><path d="M8 8h8M8 12h8M8 16h5"/></svg><span class="feature-text">Acesso a todas as funcionalidades</span></div>
  </div>
  <button class="plan-button">Selecionar Plano</button>
</div>

<div class="plan-card featured" data-plan-code="pro30">
  <div class="plan-header">
    <h2 class="plan-name">Avançado</h2>
    <div class="plan-price"><span class="price-amount">R$97</span><span class="price-interval">/30 dias</span></div>
    <p class="plan-description">Para profissionais que necessitam de alto volume de interceptações</p>
  </div>
  <div class="plan-features">
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 1 1 9-9"/><path d="M12 12V7"/><path d="M12 12l4-1"/></svg><span class="feature-text">25 interceptações por dia</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="3"/><path d="M16 2v4M8 2v4M3 10h18"/><circle cx="8" cy="15" r="1"/><circle cx="12" cy="15" r="1"/><circle cx="16" cy="15" r="1"/></svg><span class="feature-text">Duração: 30 dias</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5"/><path d="M7 10V7a5 5 0 0 1 10 0v3"/></svg><span class="feature-text">Suporte via WhatsApp 24/7 prioritário</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="3"/><path d="M8 8h8M8 12h8M8 16h5"/></svg><span class="feature-text">Acesso a todas as funcionalidades</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 20v-2c4-3 14-3 18 0v2"/><circle cx="12" cy="7" r="4"/></svg><span class="feature-text">Relatórios avançados</span></div>
  </div>
  <button class="plan-button featured">Selecionar Plano</button>
</div>

<div class="plan-card" data-plan-code="life">
  <div class="plan-header">
    <h2 class="plan-name">Vitalício</h2>
    <div class="plan-price"><span class="price-amount">R$139</span><span class="price-interval">/vitalício</span></div>
    <p class="plan-description">Acesso permanente para usuários que precisam da máxima capacidade</p>
  </div>
  <div class="plan-features">
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M12 21a9 9 0 1 1 9-9"/><path d="M12 12V7"/><span class="feature-text">20 interceptações por dia</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M4 7l8-4 8 4v11a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z"/><path d="M12 10v10"/></svg><span class="feature-text">Duração: Vitalícia</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12v5a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5"/><path d="M7 10V7a5 5 0 0 1 10 0v3"/></svg><span class="feature-text">Suporte via WhatsApp 24/7 prioritário</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="4" width="16" height="16" rx="3"/><path d="M8 8h8M8 12h8M8 16h5"/></svg><span class="feature-text">Acesso a todas as funcionalidades</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M3 20v-2c4-3 14-3 18 0v2"/><circle cx="12" cy="7" r="4"/></svg><span class="feature-text">Relatórios avançados</span></div>
    <div class="feature"><svg class="feature-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"><path d="M20 11a8 8 0 1 1-1.86-5.14"/><path d="M12 2v4"/><path d="M12 12V7"/></svg><span class="feature-text">Atualizações gratuitas para sempre</span></div>
  </div>
  <button class="plan-button floating">Selecionar Plano</button>
</div>

  </div>

  <div class="faq-section">
    <h2 class="faq-title">Perguntas Frequentes</h2>
    <div class="faq-grid">
      <div class="faq-item">
        <h3 class="faq-question">Como funciona a cobrança?</h3>
        <p class="faq-answer">Oferecemos cobrança única sem renovação automática. Você paga apenas uma vez pelo período selecionado.</p>
      </div>
      <div class="faq-item">
        <h3 class="faq-question">Posso alterar meu plano depois?</h3>
        <p class="faq-answer">Sim, você pode fazer upgrade a qualquer momento. Entre em contato com nosso suporte para mais informações.</p>
      </div>
      <div class="faq-item">
        <h3 class="faq-question">Há reembolso disponível?</h3>
        <p class="faq-answer">Oferecemos reembolso em até 7 dias após a compra, desde que não tenha utilizado mais de 5 interceptações.</p>
      </div>
      <div class="faq-item">
        <h3 class="faq-question">Quais métodos de pagamento são aceitos?</h3>
        <p class="faq-answer">Aceitamos apenas PIX.</p>
      </div>
    </div>
  </div>
</div>

<div class="modal-backdrop" id="planModal" role="dialog" aria-modal="true" aria-labelledby="planModalTitle" aria-hidden="true">
  <div class="modal" id="planModalCard" tabindex="-1">
    <button class="modal-close" id="planModalClose" aria-label="Fechar">
      <svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
    </button>
    <div class="modal-body">
      <div class="modal-head">
        <div class="modal-brand">
          <div class="modal-logo">
            <svg viewBox="0 0 24 24" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" fill="white"/></svg>
          </div>
          <div class="modal-title" id="planModalTitle">Detalhes do plano</div>
        </div>
      </div>
      <div class="modal-grid">
        <div class="summary">
          <div class="modal-plan">
            <h3 id="modalPlanName">Plano</h3>
            <span class="badge" id="modalPlanBadge"><svg viewBox="0 0 24 24" width="14" height="14" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2l3 6 6 .5-4.5 4 1.5 6L12 16l-6 3 1.5-6L3 8.5 9 8 12 2z"/></svg><span id="badgeText">Selecionado</span></span>
          </div>
          <div class="modal-details">
            <div class="kv"><b>Preço</b><span id="modalPlanPrice">—</span></div>
            <div class="kv"><b>Período</b><span id="modalPlanPeriod">—</span></div>
            <div class="kv"><b>Interceptações/dia</b><span id="modalPlanLimit">—</span></div>
            <div class="kv"><b>Suporte</b><span id="modalPlanSupport">WhatsApp</span></div>
            <div class="kv"><b>Pagamento</b><span>PIX</span></div>
          </div>
        </div>
        <form class="form" id="checkoutForm" novalidate>
          <div class="field"><label class="label" for="fullname">Nome completo</label><input class="input" id="fullname" name="fullname" type="text" autocomplete="name" placeholder="Seu nome completo" required/></div>
          <div class="field"><label class="label" for="cpf">CPF (somente números)</label><input class="input" id="cpf" name="cpf" type="text" inputmode="numeric" pattern="\d{11}" maxlength="11" placeholder="Apenas números" required/></div>
        </form>
      </div>
      <div class="modal-footer">
        <div class="cta-row">
          <div class="cta-summary">
            <div class="cta-price" id="ctaPlanName">Plano</div>
            <div class="cta-price" id="ctaPlanPrice">—</div>
          </div>
          <div>
            <button class="btn btn-secondary" id="planModalCancel">Cancelar</button>
            <button class="btn btn-primary" id="planModalConfirm" disabled>Liberar acesso agora</button>
          </div>
        </div>
        <div class="modal-disclaimer">
          <div class="disclaimer-item">
            <svg class="disclaimer-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3l8 4v5c0 5-3.5 9-8 9s-8-4-8-9V7l8-4z"/><path d="M9.5 12.5l2 2 3.5-3.5"/></svg>
            <div class="disclaimer-text"><b>Por que pedimos seu nome и CPF:</b> são usados exclusivamente para validar a transação via PIX junto à processadora de pagamentos и atender exigências bancárias. Não armazenamos esses dados em nossos servidores.</div>
          </div>
          <div class="disclaimer-item">
            <svg class="disclaimer-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16v6H4z"/><path d="M4 14h10"/><path d="M14 18H4"/><path d="M19 14l1 1 2-2M19 18l1 1 2-2"/></svg>
            <div class="disclaimer-text"><b>Use o mesmo CPF no formulário e no pagamento:</b> não utilize um CPF no cadastro e outro na conta/banco do PIX. Se os CPFs não coincidirem, o banco poderá negar a transação e o pagamento não será concluído.</div>
          </div>
          <div class="disclaimer-item">
            <svg class="disclaimer-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 12a8 8 0 1 0 8-8"/><path d="M12 2v6"/><path d="M12 12l4 2"/></svg>
            <div class="disclaimer-text"><b>Ativação imediata:</b> após a confirmação do pagamento, seu plano e todas as funcionalidades premium são ativados automaticamente e imediatamente.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<span class="sr-only" id="srStatus" role="status" aria-live="polite"></span>

<script>
document.addEventListener('DOMContentLoaded',function(){
var userBtn=document.getElementById('userBtn'),userDropdown=document.getElementById('userDropdown'),notificationsBtn=document.getElementById('notificationsBtn'),logoutBtn=document.getElementById('logoutBtn'),planButtons=document.querySelectorAll('.plan-button'),planModal=document.getElementById('planModal'),planModalCard=document.getElementById('planModalCard'),planModalClose=document.getElementById('planModalClose'),planModalCancel=document.getElementById('planModalCancel'),planModalConfirm=document.getElementById('planModalConfirm'),srStatus=document.getElementById('srStatus'),modalPlanName=document.getElementById('modalPlanName'),modalPlanPrice=document.getElementById('modalPlanPrice'),modalPlanPeriod=document.getElementById('modalPlanPeriod'),modalPlanLimit=document.getElementById('modalPlanLimit'),modalPlanSupport=document.getElementById('modalPlanSupport'),badgeText=document.getElementById('badgeText'),ctaPlanName=document.getElementById('ctaPlanName'),ctaPlanPrice=document.getElementById('ctaPlanPrice'),fullnameInput=document.getElementById('fullname'),cpfInput=document.getElementById('cpf'),activeTrigger=null,focusableSelectors='a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),[tabindex]:not([tabindex="-1"])',selectedPlanCode=null,dropdownUserName=document.getElementById('dropdownUserName'),dropdownUserId=document.getElementById('dropdownUserId'),userPlanPill=document.getElementById('userPlanPill'),supportBtn=document.getElementById('supportBtn');
function fetchUserData(){fetch('/api/me').then(function(response){if(!response.ok){throw new Error('Erro ao carregar dados do usuário')}return response.json()}).then(function(data){if(data&&data.ok){var userData=data.user;var planData=data.plan||{};var planNumeric=planData.plan_numeric!==undefined?planData.plan_numeric:(planData.code!==undefined?planData.code:(planData.plan_numeric||0));planData.plan_numeric=planNumeric;dropdownUserName.textContent=userData.username;dropdownUserId.textContent='ID: '+userData.id;var active=!!planData.active;var planName=planData.name||'Sem Plano';if(active){userPlanPill.textContent=planName;userPlanPill.classList.remove('inactive')}else{userPlanPill.textContent='Sem Plano';userPlanPill.classList.add('inactive')}}}).catch(function(error){console.error('Erro:',error)})}
function openUserDropdown(){userDropdown.classList.add('show');userDropdown.setAttribute('aria-hidden','false');userBtn.setAttribute('aria-expanded','true')}
function closeUserDropdown(){userDropdown.classList.remove('show');userDropdown.setAttribute('aria-hidden','true');userBtn.setAttribute('aria-expanded','false')}
userBtn.addEventListener('click',function(e){e.stopPropagation();if(userDropdown.classList.contains('show')){closeUserDropdown()}else{openUserDropdown()}});
document.addEventListener('click',function(e){if(!e.target.closest('.user-dropdown')&&!e.target.closest('#userBtn')){closeUserDropdown()}});
document.addEventListener('keydown',function(e){if(e.key==='Escape'){closeUserDropdown();closeModal()}});
notificationsBtn.addEventListener('click',function(){alert('Redirecionando para notificações...')});
logoutBtn.addEventListener('click',function(){window.location.href='/logout'});
supportBtn.addEventListener('click',function(){window.open('https://wa.me/5511941153647','_blank')});
function announce(m){srStatus.textContent=m}
function fillModal(card){var name=card.querySelector('.plan-name').textContent.trim();var price=card.querySelector('.price-amount').textContent.trim();var period=card.querySelector('.price-interval').textContent.replace('/','').trim();var features=[].map.call(card.querySelectorAll('.feature-text'),function(x){return x.textContent.trim()});var limit=(features.find(function(t){return t.toLowerCase().includes('interceptações')})||'—').replace(/\D+/g,'');var support=(features.find(function(t){return t.toLowerCase().includes('whatsapp')})||'WhatsApp').replace('Suporte ','');selectedPlanCode=card.getAttribute('data-plan-code')||null;modalPlanName.textContent=name;modalPlanPrice.textContent=price;modalPlanPeriod.textContent=period;modalPlanLimit.textContent=limit||'—';modalPlanSupport.textContent=support;badgeText.textContent='Selecionado';ctaPlanName.textContent=name;ctaPlanPrice.textContent=price;announce('Detalhes do plano '+name+' abertos.')}
function lockBodyScroll(lock){document.documentElement.style.overflow=lock?'hidden':'';document.body.style.overflow=lock?'hidden':''}
function openModal(){planModal.classList.add('show');planModal.setAttribute('aria-hidden','false');planModalCard.classList.add('show');lockBodyScroll(true);setTimeout(function(){planModalCard.focus()},60)}
function closeModal(){planModal.classList.remove('show');planModal.setAttribute('aria-hidden','true');planModalCard.classList.remove('show');lockBodyScroll(false);activeTrigger&&activeTrigger.focus()}
planButtons.forEach(function(button){button.addEventListener('click',function(){var card=this.closest('.plan-card');activeTrigger=this;fillModal(card;openModal()})});
planModal.addEventListener('click',function(e){if(e.target===planModal){closeModal()}});
planModalClose.addEventListener('click',function(){closeModal()});
planModalCancel.addEventListener('click',function(){closeModal()});
function trap(e){if(!planModal.classList.contains('show'))return;var focusable=planModalCard.querySelectorAll(focusableSelectors);if(!focusable.length)return;var first=focusable[0],last=focusable[focusable.length-1];if(e.key==='Tab'){if(e.shiftKey&&document.activeElement===first){e.preventDefault();last.focus()}else if(!e.shiftKey&&document.activeElement===last){e.preventDefault();first.focus()}}}
document.addEventListener('keydown',trap);
function validate(){var full=fullnameInput.value.trim();var cpf=cpfInput.value.trim();var fullOk=/^[A-Za-zÀ-ÖØ-öø-ÿ'’-]+(?:\s+[A-Za-zÀ-ÖØ-öø-ÿ'’-]+)+$/.test(full);var cpfOk=/^\d{11}$/.test(cpf);fullnameInput.classList.toggle('valid',fullOk);fullnameInput.classList.toggle('invalid',!fullOk&&full.length>0);cpfInput.classList.toggle('valid',cpfOk);cpfInput.classList.toggle('invalid',!cpfOk&&cpf.length>0);planModalConfirm.disabled=!(fullOk&&cpfOk&&!!selectedPlanCode)}
fullnameInput.addEventListener('input',validate);
cpfInput.addEventListener('input',function(){this.value=this.value.replace(/\D+/g,'').slice(0,11);validate()});
var PLAN_CODE_TO_KEY={basic15:'basic-15',std30:'standard-30',pro30:'advanced-30',life:'lifetime'};
async function startCheckout(){var full=fullnameInput.value.trim();var cpf=cpfInput.value.trim();if(planModalConfirm.disabled)return;if(!selectedPlanCode){announce('Plano inválido.');return}var plan_key=PLAN_CODE_TO_KEY[selectedPlanCode];if(!plan_key){announce('Plano inválido.');return}planModalConfirm.disabled=true;var original=planModalConfirm.textContent;planModalConfirm.textContent='Gerando Pix...';try{var r=await fetch('/api/pay/create',{method:'POST',headers:{'Content-Type':'application/json','Accept':'application/json'},credentials:'same-origin',body:JSON.stringify({plan_key:plan_key,fullname:full,cpf:cpf})});var ct=r.headers.get('content-type')||'';if(!ct.includes('application/json')){window.location.href='/login';return}var data=await r.json();if(!r.ok||!data.ok||!data.redirect){announce(data&&data.error?data.error:'Falha ao criar cobrança.');planModalConfirm.disabled=false;planModalConfirm.textContent=original;return}window.location.href=data.redirect}catch(e){announce('Não foi possível criar a cobrança agora. Tente novamente.');planModalConfirm.disabled=false;planModalConfirm.textContent=original}}
planModalConfirm.addEventListener('click',function(){startCheckout()});fetchUserData()});</script>

</body>
</html>
