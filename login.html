<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover"/><title>Login - ontercept</title><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"><style>:root{--bg-0:#eef2ff;--bg-1:#f8fafc;--surface:#ffffff;--muted:#6b7280;--muted-2:#54585f;--primary:#2463f0;--primary-600:#1f56d6;--accent:#7c3aed;--success:#10b981;--danger:#ef4444;--warning:#f59e0b;--glass:rgba(255,255,255,0.6);--radius-xs:6px;--radius-sm:10px;--radius-md:14px;--radius-lg:18px;--radius-xl:22px;--shadow-sm:0 6px 12px rgba(16,24,40,0.06);--shadow-md:0 14px 30px rgba(16,24,40,0.08);--shadow-lg:0 22px 60px rgba(16,24,40,0.15);--shadow-primary:0 14px 40px rgba(36,99,240,0.25);--gap-1:8px;--gap-2:12px;--gap-3:16px;--gap-4:24px;--gap-5:32px;--gap-6:40px;--transition:all .25s cubic-bezier(.4,0,.2,1)}html{font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;font-size:16px;line-height:1.6;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;scroll-behavior:smooth;color-scheme:light}*{box-sizing:border-box;margin:0;padding:0}body{margin:0;min-height:100vh;background:radial-gradient(1200px 600px at 10% 0%,rgba(36,99,240,.08),transparent 60%),radial-gradient(1000px 600px at 90% 90%,rgba(124,58,237,.08),transparent 60%),linear-gradient(160deg,var(--bg-0) 0%,var(--bg-1) 100%);color:#0b1220;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px 20px;position:relative;overflow-x:hidden}header.app-header{width:100%;max-width:640px;background:linear-gradient(180deg,rgba(255,255,255,0.75),rgba(255,255,255,0.55));backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);border-radius:var(--radius-xl);padding:14px 22px;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-md);border:1px solid rgba(255,255,255,0.6);margin-bottom:28px;transition:var(--transition)}header.app-header:focus-within,header.app-header:hover{box-shadow:var(--shadow-lg);transform:translateY(-2px)}.logo{display:flex;align-items:center;gap:12px;font-weight:800;font-size:20px;color:#0f172a;letter-spacing:-.25px}.logo-image{height:52px;width:auto;border-radius:0;object-fit:contain;display:block;box-shadow:none;background:transparent;transition:var(--transition)}.logo:hover .logo-image{transform:rotate(6deg) scale(1.02)}main.auth-container{width:100%;max-width:640px;background:linear-gradient(180deg,rgba(255,255,255,0.85),rgba(251,253,255,0.78));backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);border-radius:28px;padding:34px;box-shadow:var(--shadow-lg);border:1px solid rgba(255,255,255,0.7);transition:var(--transition);position:relative;overflow:hidden}main.auth-container::before{content:"";position:absolute;inset:0;pointer-events:none;background:conic-gradient(from 210deg at 10% 10%,rgba(36,99,240,.08),transparent 20%),conic-gradient(from 10deg at 90% 90%,rgba(124,58,237,.08),transparent 25%)}.auth-container .topbar{position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--primary),var(--accent),var(--success));opacity:.9}.auth-container:hover{transform:translateY(-6px);box-shadow:0 30px 80px rgba(36,99,240,.15)}.panel-header{display:flex;align-items:center;gap:14px;margin-bottom:10px;padding-bottom:18px;border-bottom:1px solid rgba(15,23,42,0.06);justify-content:center}.panel-header h1{font-size:26px;margin:0;color:#0b1220;font-weight:800;letter-spacing:-.4px}.panel-sub{text-align:center;color:var(--muted);font-weight:500;margin-top:6px;margin-bottom:6px}.form-grid{display:grid;grid-template-columns:1fr;gap:var(--gap-4);margin-top:8px}.field{display:flex;flex-direction:column;gap:10px}.input-label{display:flex;align-items:center;gap:8px;font-weight:700;color:var(--muted-2);font-size:14px}.input-wrapper{position:relative;display:flex;align-items:center}.input{appearance:none;width:100%;padding:16px 48px 16px 16px;border-radius:16px;border:1px solid rgba(15,23,42,0.08);background:rgba(251,253,255,0.9);font-size:16px;color:#0b1220;box-shadow:inset 0 2px 4px rgba(2,6,23,0.03);transition:var(--transition)}.input::placeholder{color:#9aa0a6}.input:hover{border-color:rgba(15,23,42,0.14)}.input:focus{outline:none;box-shadow:0 0 0 4px rgba(36,99,240,0.14),0 14px 28px rgba(36,99,240,0.12);border-color:var(--primary);background:#fff}.input.input-error{border-color:var(--danger)}.input.input-error:focus{box-shadow:0 0 0 4px rgba(239,68,68,0.14),0 14px 28px rgba(239,68,68,0.12)}.toggle-password{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--muted);cursor:pointer;transition:var(--transition);padding:10px;border-radius:12px;display:inline-flex;align-items:center;justify-content:center}.toggle-password:hover,.toggle-password:focus-visible{color:var(--primary);background:rgba(36,99,240,0.08);outline:none}.assist{display:flex;align-items:center;gap:8px;font-size:13px;color:var(--muted)}.error-message{display:flex;align-items:center;gap:8px;color:var(--danger);font-size:13px;font-weight:700;min-height:18px}.caps-hint{font-size:12px;color:var(--warning);font-weight:600;min-height:16px;margin-top:4px;display:none}.form-extras{display:flex;align-items:center;justify-content:space-between;margin-top:-4px}.checkbox{display:flex;align-items:center;gap:8px;font-size:14px;color:var(--muted-2)}.checkbox input{width:16px;height:16px}.link{color:var(--primary);font-weight:700;text-decoration:underline;text-underline-offset:3px}.action-area{margin-top:12px;display:flex;flex-direction:column;gap:12px}.action-button{width:100%;padding:18px;border-radius:18px;border:none;background:linear-gradient(90deg,var(--primary),var(--primary-600));color:#fff;font-weight:800;font-size:16px;letter-spacing:.2px;display:inline-flex;align-items:center;justify-content:center;gap:12px;cursor:pointer;transition:var(--transition);box-shadow:var(--shadow-primary);position:relative;overflow:hidden}.action-button::after{content:"";position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,.35),transparent);transform:translateX(-100%)}.action-button:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 20px 50px rgba(36,99,240,.28)}.action-button:hover:not(:disabled)::after{animation:shine 1.2s ease}.action-button:disabled{opacity:.6;cursor:not-allowed;transform:none;box-shadow:none}.alt-actions{text-align:center;color:var(--muted);font-size:15px}.alt-actions a{color:var(--primary);font-weight:800;text-decoration:underline;text-underline-offset:3px}.notification{position:fixed;right:28px;top:28px;background:rgba(255,255,255,0.96);backdrop-filter:blur(14px);-webkit-backdrop-filter:blur(14px);padding:18px 22px;border-radius:16px;box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:14px;border-left:5px solid var(--success);transform:translateX(120%);opacity:0;transition:all .35s cubic-bezier(.2,.9,.2,1);z-index:1100;border:1px solid rgba(255,255,255,0.7)}.notification.show{transform:translateX(0);opacity:1}.notification.error{border-left-color:var(--danger)}.notification-icon{width:24px;height:24px;color:var(--success)}.notification.error .notification-icon{color:var(--danger)}.notification-content{color:var(--muted-2);font-weight:700;font-size:15px}.floating{animation:floating 3s ease-in-out infinite}@keyframes floating{0%{transform:translateY(0)}50%{transform:translateY(-8px)}100%{transform:translateY(0)}}@keyframes shine{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}@media (max-width:768px){body{padding:16px 14px}main.auth-container{padding:26px;border-radius:22px}.panel-header h1{font-size:22px}.form-extras{flex-direction:column;align-items:flex-start;gap:10px}}@media (prefers-reduced-motion:reduce){*{transition:none!important;animation:none!important}}:where(button,a,input,[type="checkbox"]):focus-visible{outline:3px solid rgba(36,99,240,.6);outline-offset:2px}input:-webkit-autofill{box-shadow:0 0 0 40px #fff inset;border-radius:16px}</style></head><body><header class="app-header" role="banner"><div class="logo"><img src="logo.png" alt="ontercept" class="logo-image"></div></header><main class="auth-container floating" role="main" aria-labelledby="title"><div class="topbar"></div><div class="panel-header" id="title"><svg width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><path d="M20 8v6M17 11h6"/></svg><h1>Entrar</h1></div><p class="panel-sub">Acesse sua conta com segurança.</p><form id="loginForm" action="/login" method="post" novalidate><div class="form-grid"><div class="field"><label for="identity" class="input-label">Nome de usuário ou e-mail</label><div class="input-wrapper"><input type="text" id="identity" name="identity" class="input" autocomplete="username" placeholder="seuusuário ou seu@email.com" required aria-required="true" aria-describedby="identity-err" autocapitalize="none" spellcheck="false"/></div><p id="identity-err" class="error-message" role="alert" aria-live="polite"></p></div><div class="field"><label for="password" class="input-label">Senha</label><div class="input-wrapper"><input type="password" id="password" name="password" class="input" autocomplete="current-password" placeholder="••••••••" required aria-required="true" aria-describedby="password-err caps-hint"/><button type="button" class="toggle-password" id="togglePassword" aria-label="Mostrar senha" aria-pressed="false"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" aria-hidden="true"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></button></div><p id="password-err" class="error-message" role="alert" aria-live="polite"></p><div id="caps-hint" class="caps-hint" aria-live="polite">Caps Lock ativado</div></div></div><div class="form-extras"><label class="checkbox"><input type="checkbox" id="remember" name="remember" autocomplete="on">Manter conectado</label><a class="link" href="#">Esqueceu a senha?</a></div><div class="action-area"><button type="submit" class="action-button" id="loginBtn"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" aria-hidden="true"><path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="8.5" cy="7" r="4"/><path d="M20 8v6M17 11h6"/></svg>Entrar</button><div class="alt-actions">Ainda não tem conta? <a href="/register" class="link">Criar conta</a></div></div></form></main><div class="notification" id="notification" role="alert" aria-live="assertive" aria-hidden="true" aria-atomic="true"><svg class="notification-icon" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="1.6" aria-hidden="true"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4L12 14.01l-3-3"/></svg><div class="notification-content" id="notificationContent">Autenticado com sucesso!</div></div><script>document.addEventListener("DOMContentLoaded",function(){var form=document.getElementById("loginForm"),identity=document.getElementById("identity"),password=document.getElementById("password"),remember=document.getElementById("remember"),loginBtn=document.getElementById("loginBtn"),notification=document.getElementById("notification"),notificationContent=document.getElementById("notificationContent"),togglePassword=document.getElementById("togglePassword"),identityErr=document.getElementById("identity-err"),passwordErr=document.getElementById("password-err"),capsHint=document.getElementById("caps-hint");function showNotification(message,isError){notificationContent.textContent=message;notification.classList.remove("error");if(isError){notification.classList.add("error")}notification.setAttribute("aria-hidden","false");notification.classList.add("show");setTimeout(function(){notification.classList.remove("show");notification.setAttribute("aria-hidden","true")},4000)}function isEmail(v){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)}function validateIdentity(v){var trimmed=v.trim();if(trimmed===""){return{ok:false,msg:"Digite seu usuário ou e-mail."}}if(trimmed.includes("@")){return isEmail(trimmed)?{ok:true,msg:""}:{ok:false,msg:"Digite um e-mail válido."}}if(trimmed.length<3){return{ok:false,msg:"O nome de usuário deve ter pelo menos 3 caracteres."}}return{ok:true,msg:""}}function validatePassword(v){if(!v||v.length<8){return{ok:false,msg:"A senha deve ter pelo menos 8 caracteres."}}return{ok:true,msg:""}}function setFieldError(input,el,msg){if(msg){input.classList.add("input-error");input.setAttribute("aria-invalid","true");el.textContent=msg}else{input.classList.remove("input-error");input.removeAttribute("aria-invalid");el.textContent=""}}function maybeEnableButton(){var i=validateIdentity(identity.value).ok;var p=validatePassword(password.value).ok;loginBtn.disabled=!(i&&p)}function togglePasswordVisibility(inputElement,buttonElement){if(inputElement.type==="password"){inputElement.type="text";buttonElement.setAttribute("aria-pressed","true");buttonElement.innerHTML='<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>'}else{inputElement.type="password";buttonElement.setAttribute("aria-pressed","false");buttonElement.innerHTML='<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>'}}function applyServerError(msg){showNotification(msg||"Erro ao autenticar.",true);var m=(msg||"").toLowerCase();if(m.includes("credenciais")){setFieldError(identity,identityErr,"");setFieldError(password,passwordErr,"Credenciais inválidas.");password.focus()}else if(m.includes("e-mail")||m.includes("email")){setFieldError(identity,identityErr,msg);identity.focus()}else if(m.includes("usuário")||m.includes("usuario")){setFieldError(identity,identityErr,msg);identity.focus()}else if(m.includes("senha")){setFieldError(password,passwordErr,msg);password.focus()}}identity.addEventListener("input",function(){var r=validateIdentity(identity.value);setFieldError(identity,identityErr,r.msg);maybeEnableButton()});password.addEventListener("input",function(e){var r=validatePassword(password.value);setFieldError(password,passwordErr,r.msg);var caps=e.getModifierState&&e.getModifierState("CapsLock");capsHint.style.display=caps?"block":"none";maybeEnableButton()});password.addEventListener("keyup",function(e){var caps=e.getModifierState&&e.getModifierState("CapsLock");capsHint.style.display=caps?"block":"none"});togglePassword.addEventListener("click",function(){togglePasswordVisibility(password,togglePassword)});form.addEventListener("submit",async function(e){e.preventDefault();var ir=validateIdentity(identity.value);var pr=validatePassword(password.value);setFieldError(identity,identityErr,ir.msg);setFieldError(password,passwordErr,pr.msg);if(!(ir.ok&&pr.ok)){var focusTo=document.querySelector(".input.input-error");if(focusTo&&focusTo.focus){focusTo.focus()}showNotification("Revise os campos destacados para continuar.",true);return}var originalHTML=loginBtn.innerHTML;loginBtn.disabled=true;loginBtn.innerHTML='<svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="M22 4L12 14.01l-3-3"/></svg> Autenticando...';try{var fd=new FormData(form);if(!remember.checked){fd.delete("remember")}var res=await fetch("/login",{method:"POST",body:fd,credentials:"same-origin",headers:{Accept:"application/json, text/html"}});if(!res.ok){var ct=res.headers.get("content-type")||"";if(ct.includes("application/json")){var data=await res.json();applyServerError(data&&data.error)}else{applyServerError("Erro ao autenticar.")}loginBtn.disabled=false;loginBtn.innerHTML=originalHTML;return}if(res.redirected&&res.url){showNotification("Autenticado com sucesso! Redirecionando...",false);setTimeout(function(){window.location.href=res.url},1200);return}showNotification("Autenticado com sucesso! Redirecionando...",false);setTimeout(function(){window.location.href="/dashboard"},1200)}catch(err){showNotification("Falha de rede. Tente novamente.",true);loginBtn.disabled=false;loginBtn.innerHTML=originalHTML}});maybeEnableButton()});</script></body></html>
